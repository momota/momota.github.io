<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: octopress | momota.txt]]></title>
  <link href="http://momota.github.io/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://momota.github.io/"/>
  <updated>2014-05-11T11:37:08+09:00</updated>
  <id>http://momota.github.io/</id>
  <author>
    <name><![CDATA[momota]]></name>
    <email><![CDATA[makoto.momota@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[octopressでblog]]></title>
    <link href="http://momota.github.io/blog/2013/08/19/octopress/"/>
    <updated>2013-08-19T23:40:00+09:00</updated>
    <id>http://momota.github.io/blog/2013/08/19/octopress</id>
    <content type="html"><![CDATA[<h1>流れ</h1>

<ol>
<li>github pages用リポジトリ作成</li>
<li>octopressコードをローカルにclone</li>
<li>関連gemをインストール</li>
<li>新規記事をpostする</li>
<li>記事とソースをgithubへデプロイする</li>
</ol>


<h1>環境</h1>

<ul>
<li>mac os x 10.8.4</li>
<li>git version 1.7.9.6 (Apple Git-31.1)</li>
<li>zsh</li>
</ul>


<!-- more -->


<h1>create new github repository</h1>

<p>githubへログイン後、github pages用リポジトリを作成する。<a href="https://github.com/new">https://github.com/new</a>
リポジトリ名は、「username.github.io」。</p>

<h1>最新版のoctopressコードをclone</h1>

<p>```sh</p>

<pre><code>$ git clone git://github.com/imathis/octopress.git username.github.io
$ cd /path/to/username.github.io
</code></pre>

<p>```</p>

<h1>install ruby 1.9.3 by rbenv</h1>

<p>```sh</p>

<pre><code>$ rbenv install 1.9.3-pxx
$ rbenv local 1.9.3-pxx
$ rbenv rehash
$ ruby -v   # =&gt; 1.9.3-pxx
</code></pre>

<p>```</p>

<h1>configure octopress</h1>

<p>bundlerをインストールし、関連gemをインストールする。</p>

<ul>
<li><a href="http://octopress.org/docs/setup/">http://octopress.org/docs/setup/</a></li>
<li><a href="http://octopress.org/docs/configuring/">http://octopress.org/docs/configuring/</a></li>
</ul>


<p>```sh</p>

<pre><code>$ gem install bundler
$ bundle install --path vendor/bundle
</code></pre>

<p>```</p>

<p>_config.ymlを編集する。とりあえず以下のフィールドを自分に合わせて修正。</p>

<p>```yaml</p>

<pre><code>url: http://momota.github.io
title: momota.txt
subtitle: momota memo
author: momota
date_format: "%Y-%m-%d"

email: makoto.momota@gmail.com

github_user: momota
twitter_user: momota
disqus_short_name: momota
facebook_like: true
</code></pre>

<p>```</p>

<h2>install octopress theme</h2>

<p>install default theme</p>

<p>```sh</p>

<pre><code>$ bundle exec rake install
</code></pre>

<p>```</p>

<p>install 3rd party theme</p>

<p><a href="https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes">https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes</a></p>

<p>```sh</p>

<pre><code>$ bundle exec rake install\['theme you like'\]
</code></pre>

<p>```</p>

<h2>はてなブックマークボタンを設置する</h2>

<ul>
<li>source/_includes/post/sharing.html に以下を追加</li>
<li><code>\{\{ site.url \}\}\{\{ page.url \}\}</code>部分の<code>\{\}</code>はバックスラッシュなしでOK。ここでは本URLに変換されるためバックスラッシュでエスケープしている。</li>
</ul>


<p>```html</p>

<pre><code>&lt;div style="float:left"&gt;
&lt;a href="http://b.hatena.ne.jp/entry/\{\{ site.url \}\}\{\{ page.url \}\}" class="hatena-bookmark-button" data-hatena-bookmark-layout="standard" title="このエントリーをはてなブックマークに追加"&gt;&lt;img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /&gt;&lt;/a&gt;
&lt;script type="text/javascript" src="http://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"&gt;&lt;/script&gt;
&lt;/div&gt;
</code></pre>

<p>```</p>

<h2>コメント欄を設ける by disqus</h2>

<p>ブログパーツとしてコメント欄を提供する <a href="http://disqus.com/">disqus</a> のアカウントを作る。
<code>_config.yml</code> で設定する。</p>

<p>```yml</p>

<pre><code># Disqus Comments
disqus_short_name: xxxxxx
disqus_show_comment_count: false
</code></pre>

<p>```</p>

<h1>post</h1>

<ul>
<li>以下コマンドで、記事ファイル<code>source/_posts/yyyy-MM-dd-post-title.markdown</code>を生成。</li>
<li>生成後は、vim/emacsなど自分の好きなエディタで編集する</li>
</ul>


<p>```sh</p>

<pre><code>$ bundle exec rake new_post\['post title'\]
</code></pre>

<p>```</p>

<h1>check your post</h1>

<p>```sh</p>

<pre><code># htmlなどの生成
$ bundle exec rake generate
# プレビュー: http://localhost:4000/ へアクセスしてみる
$ bundle exec rake preview
</code></pre>

<p>```</p>

<h1>deploy github pages</h1>

<ul>
<li><a href="http://octopress.org/docs/deploying/github/">http://octopress.org/docs/deploying/github/</a> を参考に。</li>
</ul>


<p>```sh</p>

<pre><code>$ bundle exec rake setup_github_pages
# Enter the read/write url for your repository:
# --&gt; git@github.com:username/username.github.io.git
$ bundle exec rake deploy
</code></pre>

<p>```</p>

<ul>
<li>ソースもgit pushする</li>
</ul>


<p>```sh</p>

<pre><code>$ git add .
$ git commit -m 'commit comment'
$ git push origin source
</code></pre>

<p>```</p>
]]></content>
  </entry>
  
</feed>
